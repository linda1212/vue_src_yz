<!DOCTYPE html>
<html>

<head>
    <title>监测点管理</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link rel="icon" href="favicon.ico" type="image/x-icon" />
    <link rel="stylesheet" type="text/css" id='theme' href="css/theme-dark-blue.css" />
</head>

<body>
    <div class="page-container">
        <a href="# " class="x-navigation-minimize menu_minimalize">
            <span class="arrow arrow-shrink "></span>
        </a>
        <div class="page-sidebar page-sidebar-fixed scroll">
            <ul id='menu' class="x-navigation">
                <li class="xn-logo">
                    <a href="index.html"></a>
                    <a href='#' class="x-navigation-control "></a>
                </li>
            </ul>
        </div>
        <div class="page-content ">
            <h3 class="page-title">
                <ul class="x-navigation x-navigation-horizontal log-out pull-right">
                    <li class="xn-icon-button last ">
                        <a href="# ">
                            <span class="fa fa-power-off "></span>
                        </a>
                        <ul class="xn-drop-left animated zoomIn ">
                            <li>
                                <a href="# " class="mb-control " data-box="#mb-signout ">
                                    <span class="fa fa-sign-out "></span> 登出</a>
                            </li>
                        </ul>
                    </li>
                </ul>
                监测点管理</h3>
            <ul class="breadcrumb ">
                <li>
                    <a href="enterpriseManager.html">企业信息管理</a>
                </li>
                <li>
                    <a href="javascript:(0)">监测点管理</a>
                </li>
                <li class="active">
                    <a href="javascript:(0)" id='breadName'></a>
                </li>
            </ul>
            <div class="page-content-wrap ">
                <div class="page-content-box gap24">
                    <div class="clearfix mytbar">
                        <div class="clearfix mytbar">
                            <div id="inputBox" class="gap-btn-group  " role="group">
                                <button type="button" class="btn btn-label">
                                    <span>搜索：</span>
                                </button>
                                <div id="field_select" class="btn-group compact" role="group">
                                    <button type="button" class="btn btn-default dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                        名称
                                        <span class="caret"></span>
                                    </button>
                                    <ul class="dropdown-menu">
                                        <li>
                                            <a href="#" data-field='name' data-placeholder='请输入名称'>名称</a>
                                        </li>
                                    </ul>
                                </div>
                                <input id="search_input" type="text" class="form-control" data-field="name" placeholder="请输入名称" />
                                <button id="ser" type="button" title="搜索" class="btn btn-outline btn-primary">
                                    <span>查询</span>
                                </button>
                            </div>
                            <div class="btn-group   pull-right" role="group">
                                <button id="add" data-table="TContact" type="button" title="新增" class="btn btn-outline btn-primary pull-right">
                                    <span>新增</span>
                                </button>
                            </div>
                        </div>
                        <table id="TContact" data-mobile-responsive="true">
                            <thead>
                                <tr class="hidden-em">
                                    <th data-field="state" data-my="1" data-checkbox="true"></th>
                                    <th data-field="id">序号</th>
                                    <th data-field="name">器具名称</th>
                                    <th data-field="terminalId">器具编码</th>
                                    <!-- <th data-field="tel">器具种类</th> -->
                                    <th data-field="dataCodeName">用能种类</th>
                                    <th data-field="rate">倍率</th>
                                    <th data-field="operate" data-formatter="OperatingFomatterC" data-align="right">操作</th>
                                </tr>
                            </thead>
                        </table>
                        <!-- <div id="footerbar" class="footerbar hidden-em">
                            <div class="gap-btn-group" role="group">
                                <button id="checkall" type="button" class="btn btn-outline btn-default" data-cked="unchecked">
                                    <span>全选</span>
                                </button>
                                <button id="bedit" type="button" class="btn btn-outline btn-primary">
                                    <span>批量操作</span>
                                </button>
                                <button id="bdel" type="button" title="删除客户" class="btn btn-outline btn-primary">
                                    <span>删除</span>
                                </button>
                                <button id="endState" type="button" title="删除客户" class="btn btn-outline btn-primary">
                                    <span>完成</span>
                                </button>
                            </div>
                        </div> -->
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="message-box animated fadeIn" data-sound="alert " id='mb-signout'>
        <div class="mb-container ">
            <div class="mb-middle ">
                <div class="mb-title">
                    <span class="fa fa-sign-out "></span> Log
                    <strong>Out</strong> ?</div>
                <div class="mb-content ">
                    <p>确定登出?</p>
                    <p>如果您想继续留在此页面，请点击"否"</p>
                </div>
                <div class="mb-footer ">
                    <div class="pull-right ">
                        <a href="login.html " class="btn btn-success btn-lg ">是</a>
                        <button class="btn btn-default btn-lg mb-control-close ">否</button>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div id="modal" class="modal fade">
        <div class="modal-dialog">
            <form action="javascript:void(0)" data-bv-message="验证未通过" data-bv-feedbackicons-valid="glyphicon glyphicon-ok" data-bv-feedbackicons-invalid="glyphicon glyphicon-remove" data-bv-feedbackicons-validating="glyphicon glyphicon-refresh">
                <div class="modal-content">
                    <div class="modal-header">
                        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                            <span aria-hidden="true">&times;</span>
                        </button>
                        <h4 class="modal-title"></h4>
                    </div>
                    <div class="modal-body">
                        <input type="hidden" class="form-control" name="enterpriseId">
                        <input type="hidden" class="form-control" name="id">
                        <div class="form-group">
                            <label><span class="text-red">*</span>用能种类</label>
                            <select id="dataCodeName" class="form-control" name="dataCode" required></select>
                        </div>
                        <!-- <div class="form-group">
                            <label>
                                <span class="text-red">*</span>器具种类</label>
                            <select class="form-control" name="type" required>
                                <option value="">电压表</option>
                                <option value="">电流表</option>
                            </select>
                        </div> -->
                        <div class="form-group">
                            <label>器具名称</label>
                            <input type="text" class="form-control" name="name">
                        </div>
                        <div class="form-group">
                            <label>器具编码</label>
                            <input type="text" class="form-control" name="terminalId">
                        </div>
                        <div class="form-group">
                            <label><span class="text-red">*</span>倍率</label>
                            <input type="text" class="form-control" name="rate" pattern="^(-?\d+)(\.\d+)?$" data-bv-notempty-message="请填有效数字" data-bv-regexp-message="请填有效数字" required>
                        </div>
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-default cancel" data-dismiss="modal">取&nbsp;&nbsp;消</button>
                        <button type="button" class="btn btn-primary submit">保&nbsp;&nbsp;存</button>
                    </div>
                </div>
            </form>
        </div>
    </div>
    <div id="detail" class="modal fade">
        <div class="modal-dialog">
            <form action="javascript:void(0)">
                <div class="modal-content">
                    <div class="modal-header">
                        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                            <span aria-hidden="true">&times;</span>
                        </button>
                        <h4 class="modal-title"></h4>
                    </div>
                    <div class="modal-body">
                        <input type="hidden" class="form-control" name="id">
                        <div class="form-group">
                            <label>用能种类</label>
                            <input type="text" class="form-control" name="dataCodeName" required>
                        </div>
                        <!-- <div class="form-group">
                            <label>器具种类</label>
                            <input type="text" class="form-control" name="name">
                        </div> -->
                        <div class="form-group">
                            <label>器具名称</label>
                            <input type="text" class="form-control" name="name">
                        </div>
                        <div class="form-group">
                            <label>器具编码</label>
                            <input type="text" class="form-control" name="terminalId">
                        </div>
                        <div class="form-group">
                            <label>倍率</label>
                            <input type="text" class="form-control" name="rate" pattern="^(-?\d+)(\.\d+)?$" data-bv-notempty-message="请填有效数字" data-bv-regexp-message="请填有效数字" required>
                        </div>
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn  btn-primary submit" data-dismiss="modal">确&nbsp;&nbsp;认</button>
                    </div>
                </div>
            </form>
        </div>
    </div>
</body>
<script type='text/javascript' src="js/import.js"></script>
<script type='text/javascript' src="js/pages/common.js"></script>
<script type='text/javascript' src="js/pages/CURDTable.js"></script>
<script>

    (function setBreadMenu(){
        $('#breadName').html(sessionStorage.getItem('monitorName'));
    })()

    var c = new cur({
        t: "#TContact",
        m: "#modal",
        uuid: "id",
        hideCols: ['id'],
        search_params: {
            field_select: '#field_select',
            field_input: '#search_input'
        },
        queryUrl: "/energy/terminal/getList",
        urlGetType: 'obj',
        addUrl: "/energy/terminal/add",
        editUrl: "/energy/terminal/edit",
        childSls: {
            "#dataCodeName": {
                def: '--请选择用能种类--',
                url: '/energy/enengyType/getEnergyType?key=dataCodeName',
                autoRef: 'true',
                type: 'GET'
            }
        },
        beforeSend: function(param) {
                param.enterpriseId = window.location.search.match(/enterpriseId\=([\s\S]+)(?!=)/)[1];
            }
            // delUrl: "/energy/terminal/del"
    });

    c.init(c);
</script>

</html>